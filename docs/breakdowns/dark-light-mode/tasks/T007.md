# T007: Add System Theme Change Listener

## State: `pending`

## Action
Enhance `useTheme` hook to listen for OS theme changes when mode is `'system'`.

## Business Summary
When users choose "System", the app should automatically switch between light/dark as their OS preference changes (e.g., macOS auto dark mode at sunset).

## Logic
- When `mode === 'system'`, add `matchMedia` change listener
- On change event, re-resolve theme and update `<html>` class
- Clean up listener on unmount or when mode changes away from system

## Technical Logic
```ts
useEffect(() => {
  if (mode !== 'system') return;

  const mq = window.matchMedia('(prefers-color-scheme: dark)');
  const handler = (e: MediaQueryListEvent) => {
    document.documentElement.classList.toggle('dark', e.matches);
    setResolvedTheme(e.matches ? 'dark' : 'light');
  };

  mq.addEventListener('change', handler);
  return () => mq.removeEventListener('change', handler);
}, [mode]);
```

## Testing
Manual: Set mode to System → change OS theme (or use devtools emulation) → verify app updates instantly.

## Files
| File | Action |
|------|--------|
| `hooks/useTheme.ts` | Modify |

## Patterns
Standard React `useEffect` cleanup pattern.
