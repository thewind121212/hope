# T001: Create Theme Storage Module

## State: `pending`

## Action
Create `lib/theme.ts` with storage and resolution helpers.

## Business Summary
Provides the foundation for persisting user theme preference across browser sessions. Users expect their choice to be remembered.

## Logic
- Define `ThemeMode` type: `'light' | 'dark' | 'system'`
- `getStoredTheme()` — read from localStorage, return null if missing/invalid
- `setStoredTheme(mode)` — write to localStorage
- `resolveTheme(mode)` — convert mode to actual `'light' | 'dark'` (system checks `matchMedia`)
- SSR-safe: guard all `window`/`localStorage` access

## Technical Logic
```ts
const THEME_KEY = 'bookmark-vault-theme';
type ThemeMode = 'light' | 'dark' | 'system';

// resolveTheme uses:
// window.matchMedia('(prefers-color-scheme: dark)').matches
```

## Testing
Manual: Verify in browser devtools that localStorage key is set/read correctly.

## Files
| File | Action |
|------|--------|
| `lib/theme.ts` | Create |

## Patterns
Reference `lib/storage.ts` for SSR guards (`typeof window === 'undefined'`).
